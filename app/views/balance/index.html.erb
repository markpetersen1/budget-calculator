<h1>Balance Overview</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Amount Per Month</th>
    <th></th>
  </tr>

  <% @payments.each do |payment| %>
    <% @net_total -= payment.amount_per_month %>
    <tr>
      <td><%= payment.title %></td>
      <td><%= '-' + payment.amount_per_month.to_s %></td>
      <td><%= link_to 'Show', payment_path(payment) %></td>
      <td><%= link_to 'Edit', edit_payment_path(payment) %></td>
      <td><%= link_to 'Destroy', payment_path(payment), 
              method: :delete,
              data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>

  <% @deposits.each do |deposit| %>
    <% @net_total += deposit.amount_per_month %>
    <tr>
      <td><%= deposit.title %></td>
      <td><%= '+' + deposit.amount_per_month.to_s %></td>
      <td><%= link_to 'Show', deposit_path(deposit) %></td>
      <td><%= link_to 'Edit', edit_deposit_path(deposit) %></td>
      <td><%= link_to 'Destroy', deposit_path(deposit), 
              method: :delete,
              data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>

<tr>
  <td><strong>Net Total</strong></td>
  <td><strong><%= @net_total %></strong></td>
</tr>

</table>

<br><br>
<%= link_to 'Add more payments?', controller: 'payments' %><br>
<%= link_to 'Add more deposits?', controller: 'deposits' %>